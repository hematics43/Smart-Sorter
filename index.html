<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sorter... anything</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: "Segoe UI", Arial, sans-serif;
      background: linear-gradient(#011c25);
      background-size: 300% 300%;
      animation: gradientMove 12s ease infinite;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      padding: 20px;
      color: #fff;
    }
    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .container {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(12px);
      width: 100%;
      max-width: 600px;
      padding: 22px;
      border-radius: 18px;
      box-shadow: 0 10px 28px rgba(0,0,0,0.25);
    }
    h2 {
      text-align: center;
      margin-bottom: 20px;
      color: #e0f2fe;
      font-size: 26px;
    }
    label {
      font-size: 14px;
      font-weight: 600;
      display: block;
      margin-bottom: 6px;
      color: #dbeafe;
    }
    textarea {
      width: 100%;
      height: 120px;
      padding: 12px;
      font-size: 15px;
      border: none;
      border-radius: 12px;
      margin-bottom: 15px;
      outline: none;
      background: rgba(255,255,255,0.15);
      color: #fff;
    }
    textarea::placeholder { color: #cbd5e1; }
    select, button {
      width: 100%;
      padding: 12px;
      font-size: 15px;
      margin-bottom: 12px;
      border-radius: 12px;
      border: none;
      outline: none;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
    }
    /* üî• Dark dropdown style */
    select {
      background: #111827;
      color: #f9fafb;
      border: 1px solid #374151;
    }
    select option {
      background: #1f2937;
      color: #f3f4f6;
    }
    button {
      background: linear-gradient(135deg, #3b82f6, #0ea5e9);
      color: white;
      box-shadow: 0 4px 12px rgba(0,0,0,0.25);
    }
    button:hover {
      transform: scale(1.03);
      opacity: 0.95;
    }
    .options {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 12px;
    }
    .options label {
      font-size: 13px;
      font-weight: normal;
      color: #fff;
      background: rgba(255,255,255,0.12);
      padding: 4px 10px;
      border-radius: 10px;
    }
    #result {
      background: rgba(0,0,0,0.25);
      padding: 16px;
      border-radius: 14px;
      font-size: 15px;
      min-height: 40px;
      margin-bottom: 10px;
      cursor: pointer;
      user-select: text;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .item {
      padding: 6px 12px;
      border-radius: 10px;
      font-weight: 600;
      color: #fff;
      background: linear-gradient(135deg, #3b82f6, #0ea5e9);
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      transition: transform 0.2s;
    }
    .item:hover { transform: scale(1.08); }
    #result.copied { background: #1d4ed8; transition: background 0.5s; }
    #count {
      font-size: 13px;
      color: #bfdbfe;
      margin-bottom: 20px;
    }
    #clearBtn {
      background: linear-gradient(135deg, #ef4444, #dc2626);
    }
    #clearBtn:hover { opacity: 0.9; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Sorter... anything</h2>
    
    <label for="input">Enter words or numbers or any...</label>
    <textarea id="input" placeholder="e.g. apple, banana, 42, 7"></textarea>

    <label for="order">Sort order:</label>
    <select id="order">
      <option value="auto" selected>Auto Detect (Live)</option>
      <option value="alphaAsc">Alphabetical (A ‚Üí Z)</option>
      <option value="alphaDesc">Alphabetical (Z ‚Üí A)</option>
      <option value="numAsc">Numeric (Small ‚Üí Large)</option>
      <option value="numDesc">Numeric (Large ‚Üí Small)</option>
      <option value="original">Original Order</option>
      <option value="reverse">Reverse Original</option>
      <option value="shuffle">Shuffle (Random)</option>
      <option value="lengthAsc">By Length (Short ‚Üí Long)</option>
      <option value="lengthDesc">By Length (Long ‚Üí Short)</option>
    </select>

    <div class="options">
      <label><input type="checkbox" id="unique"> Unique</label>
      <label><input type="checkbox" id="uppercase"> UPPERCASE</label>
      <label><input type="checkbox" id="lowercase"> lowercase</label>
      <label><input type="checkbox" id="capitalize"> Capitalize</label>
      <label><input type="checkbox" id="reverseEach"> Reverse Words</label>
    </div>

    <button id="toggleCommaBtn">Hide Commas (,)</button>

    <label>Sorted:</label>
    <div id="result">‚ö†Ô∏è Start typing above‚Ä¶</div>
    <div id="count"></div>

    <button id="clearBtn">üóëÔ∏è Clear Saved Data</button>
  </div>

  <script>
    const inputEl = document.getElementById("input");
    const orderEl = document.getElementById("order");
    const uniqueEl = document.getElementById("unique");
    const upperEl = document.getElementById("uppercase");
    const lowerEl = document.getElementById("lowercase");
    const capEl = document.getElementById("capitalize");
    const reverseEachEl = document.getElementById("reverseEach");
    const resultEl = document.getElementById("result");
    const countEl = document.getElementById("count");
    const clearBtn = document.getElementById("clearBtn");
    const toggleViewBtn = document.getElementById("toggleViewBtn");
    const toggleCommaBtn = document.getElementById("toggleCommaBtn");

    let viewMode = "inline";
    let showCommas = true;

    function capitalizeWord(word) {
      return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();
    }

    function detectDataType(items) {
      let numbers = 0, words = 0;
      items.forEach(item => !isNaN(parseFloat(item)) ? numbers++ : words++);
      return numbers > words ? "numeric" : "text";
    }

    function sortItems() {
      let input = inputEl.value.trim();
      let order = orderEl.value;

      if (!input) {
        resultEl.textContent = "‚ö†Ô∏è Please enter some values.";
        countEl.textContent = "";
        saveState();
        return;
      }

      let items = input.split(/[\s,]+/).filter(Boolean);
      if (uniqueEl.checked) items = [...new Set(items)];

      if (order === "auto") order = detectDataType(items) === "numeric" ? "numAsc" : "alphaAsc";

      let sorted;
      switch(order) {
        case "alphaAsc": sorted = [...items].sort((a,b)=>a.localeCompare(b)); break;
        case "alphaDesc": sorted = [...items].sort((a,b)=>b.localeCompare(a)); break;
        case "numAsc": sorted = [...items].sort((a,b)=>parseFloat(a)-parseFloat(b)); break;
        case "numDesc": sorted = [...items].sort((a,b)=>parseFloat(b)-parseFloat(a)); break;
        case "reverse": sorted = [...items].reverse(); break;
        case "shuffle": sorted = [...items].sort(()=>Math.random()-0.5); break;
        case "lengthAsc": sorted = [...items].sort((a,b)=>a.length-b.length); break;
        case "lengthDesc": sorted = [...items].sort((a,b)=>b.length-a.length); break;
        default: sorted = items;
      }

      if (upperEl.checked) sorted = sorted.map(x=>x.toUpperCase());
      else if (lowerEl.checked) sorted = sorted.map(x=>x.toLowerCase());
      else if (capEl.checked) sorted = sorted.map(x=>capitalizeWord(x));
      if (reverseEachEl.checked) sorted = sorted.map(x=>x.split("").reverse().join(""));

      resultEl.innerHTML = "";
      sorted.forEach((item, i) => {
        const span = document.createElement("span");
        span.className = "item";
        span.style.background = `linear-gradient(135deg, hsl(${200+(i*30)%360},70%,50%), hsl(${220+(i*30)%360},80%,40%))`;
        span.textContent = item;
        resultEl.appendChild(span);

        if (viewMode === "inline" && i < sorted.length-1 && showCommas) {
          const comma = document.createElement("span");
          comma.textContent = ", ";
          resultEl.appendChild(comma);
        }
        if (viewMode === "list") resultEl.appendChild(document.createElement("br"));
      });

      countEl.textContent = `Count: ${sorted.length}`;
      saveState();
    }

    function saveState() {
      const state = {
        input: inputEl.value, order: orderEl.value,
        unique: uniqueEl.checked, uppercase: upperEl.checked,
        lowercase: lowerEl.checked, capitalize: capEl.checked,
        reverseEach: reverseEachEl.checked,
        viewMode, showCommas
      };
      localStorage.setItem("smartSorterState", JSON.stringify(state));
    }

    function loadState() {
      const state = JSON.parse(localStorage.getItem("smartSorterState"));
      if (!state) return;
      inputEl.value = state.input || "";
      orderEl.value = state.order || "auto";
      uniqueEl.checked = state.unique || false;
      upperEl.checked = state.uppercase || false;
      lowerEl.checked = state.lowercase || false;
      capEl.checked = state.capitalize || false;
      reverseEachEl.checked = state.reverseEach || false;
      viewMode = state.viewMode || "inline";
      showCommas = state.showCommas ?? true;
     
      toggleCommaBtn.textContent = showCommas ? "Hide Commas (,)" : "‚úì Show Commas";
      sortItems();
    }

    clearBtn.addEventListener("click", () => {
      localStorage.removeItem("smartSorterState");
      inputEl.value = "";
      orderEl.value = "auto";
      uniqueEl.checked = upperEl.checked = lowerEl.checked = capEl.checked = reverseEachEl.checked = false;
      viewMode="inline";
      showCommas=true;
      toggleCommaBtn.textContent = "Hide Commas (,)";
      resultEl.textContent="‚ö†Ô∏è Start typing above‚Ä¶";
      countEl.textContent="";
    });
    toggleCommaBtn.addEventListener("click", () => {
      showCommas = !showCommas;
      toggleCommaBtn.textContent = showCommas ? "Hide Commas (,)" : "‚úì Show Commas";
      sortItems();
    });

    resultEl.addEventListener("dblclick", () => {
      const text = Array.from(resultEl.querySelectorAll(".item"))
                        .map(el=>el.textContent)
                        .join(viewMode==="list" ? "\n" : (showCommas ? ", " : " "));
      if (text) {
        navigator.clipboard.writeText(text).then(() => {
          resultEl.classList.add("copied");
          setTimeout(() => resultEl.classList.remove("copied"), 800);
        });
      }
    });

    [inputEl, orderEl, uniqueEl, upperEl, lowerEl, capEl, reverseEachEl].forEach(el=>{
      el.addEventListener("input", sortItems);
      el.addEventListener("change", sortItems);
    });

    window.addEventListener("load", loadState);
  </script>
</body>
</html>
